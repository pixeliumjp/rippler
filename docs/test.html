<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Ripplerï½œWebGLãƒªãƒƒãƒ—ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ</title>

		<!-- Prism.js CSS -->
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css"
			rel="stylesheet"
		/>

		<style>
			body {
				font-family:
					-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
					sans-serif;
				line-height: 1.6;
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
				background: #f5f5f5;
			}

			.container {
				background: white;
				border-radius: 8px;
				padding: 30px;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
			}

			h1, h2, h3 {
				color: #333;
			}

			.code-section {
				margin: 30px 0;
			}

			.code-header {
				background: #2d2d2d;
				color: white;
				padding: 10px 20px;
				border-radius: 8px 8px 0 0;
				font-size: 14px;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.code-wrapper {
				position: relative;
				margin-bottom: 30px;
			}

			pre[class*="language-"] {
				margin: 0;
				border-radius: 0 0 8px 8px;
				font-size: 14px;
			}

			.copy-button {
				background: #4caf50;
				color: white;
				border: none;
				padding: 5px 15px;
				border-radius: 4px;
				cursor: pointer;
				font-size: 12px;
				transition: background 0.3s;
			}

			.copy-button:hover {
				background: #45a049;
			}

			.copy-button.copied {
				background: #2196f3;
			}

			.demo-area {
				background: #f8f8f8;
				border: 2px dashed #ddd;
				border-radius: 8px;
				padding: 40px;
				text-align: center;
				margin: 20px 0;
				position: relative;
				overflow: hidden;
			}

			.tab-container {
				display: flex;
				gap: 10px;
				margin-bottom: 20px;
			}

			.tab-button {
				padding: 10px 20px;
				background: #e0e0e0;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				transition: all 0.3s;
			}

			.tab-button.active {
				background: #2196f3;
				color: white;
			}

			.tab-content {
				display: none;
			}

			.tab-content.active {
				display: block;
			}

			.feature-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 20px;
				margin: 30px 0;
			}

			.feature-card {
				background: #f8f8f8;
				padding: 20px;
				border-radius: 8px;
				border: 1px solid #e0e0e0;
			}

			.line-numbers .line-numbers-rows {
				border-right: 1px solid #464646;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>ğŸŒŠ Rippler.js - WebGLãƒªãƒƒãƒ—ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ</h1>
			<p>
				WebGLã‚’ä½¿ç”¨ã—ãŸç¾ã—ã„æ³¢ç´‹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’Webãƒšãƒ¼ã‚¸ã«è¿½åŠ ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
			</p>

			<!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
			<div class="tab-container">
				<button class="tab-button active" onclick="showTab('basic')">
					åŸºæœ¬çš„ãªä½¿ã„æ–¹
				</button>
				<button class="tab-button" onclick="showTab('advanced')">
					é«˜åº¦ãªä½¿ã„æ–¹
				</button>
				<button class="tab-button" onclick="showTab('api')">
					API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
				</button>
				<button class="tab-button" onclick="showTab('examples')">
					å®Ÿè£…ä¾‹
				</button>
			</div>

			<!-- åŸºæœ¬çš„ãªä½¿ã„æ–¹ -->
			<div id="basic" class="tab-content active">
				<h2>ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>

				<div class="code-wrapper">
					<div class="code-header">
						<span>NPM</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre><code class="language-bash">npm install rippler-js</code></pre>
				</div>

				<div class="code-wrapper">
					<div class="code-header">
						<span>CDN</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-html">&lt;script type="module"&gt;
  import { Rippler } from 'https://cdn.jsdelivr.net/npm/rippler-js@latest/dist/rippler.min.js';
&lt;/script&gt;</code></pre>
				</div>

				<h2>ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</h2>

				<div class="code-wrapper">
					<div class="code-header">
						<span>HTML</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-html">&lt;!-- ãƒªãƒƒãƒ—ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’é©ç”¨ã™ã‚‹è¦ç´  --&gt;
&lt;div id="ripple-container" style="width: 100%; height: 400px; background-image: url('background.jpg');"&gt;
  &lt;h2&gt;ç¾ã—ã„æ³¢ç´‹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ&lt;/h2&gt;
  &lt;p&gt;ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã—ã¦ã¿ã¦ãã ã•ã„&lt;/p&gt;
&lt;/div&gt;</code></pre>
				</div>

				<div class="code-wrapper">
					<div class="code-header">
						<span>JavaScript</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">// ESMã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { Rippler } from './rippler.js';

// è¦ç´ ã‚’å–å¾—
const element = document.getElementById('ripple-container');

// Ripplerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
const rippler = new Rippler(element, {
  dropRadius: 20,      // æ³¢ç´‹ã®åŠå¾„
  perturbance: 0.03,   // æ³¢ã®å¼·ã•
  interactive: true,   // ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
  resolution: 256      // ãƒ†ã‚¯ã‚¹ãƒãƒ£è§£åƒåº¦
});

// æ‰‹å‹•ã§æ³¢ç´‹ã‚’ä½œæˆ
rippler.drop(100, 100, 30, 0.05);</code></pre>
				</div>
			</div>

			<!-- é«˜åº¦ãªä½¿ã„æ–¹ -->
			<div id="advanced" class="tab-content">
				<h2>âš¡ é«˜åº¦ãªè¨­å®š</h2>

				<div class="code-wrapper">
					<div class="code-header">
						<span>ã‚«ã‚¹ã‚¿ãƒ è¨­å®š</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">const rippler = new Rippler(element, {
  // ç”»åƒè¨­å®š
  imageUrl: '/path/to/custom-image.jpg',  // ã‚«ã‚¹ã‚¿ãƒ èƒŒæ™¯ç”»åƒ
  crossOrigin: 'anonymous',               // CORSè¨­å®š
  
  // ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¨­å®š
  dropRadius: 30,                         // æ³¢ç´‹ã®åŠå¾„ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰
  perturbance: 0.05,                      // æ³¢ã®æ­ªã¿å¼·åº¦ï¼ˆ0-1ï¼‰
  resolution: 512,                        // ãƒ†ã‚¯ã‚¹ãƒãƒ£è§£åƒåº¦ï¼ˆ2ã®ç´¯ä¹—ï¼‰
  
  // ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
  interactive: true                       // ãƒã‚¦ã‚¹/ã‚¿ãƒƒãƒåå¿œ
});

// å‹•çš„ãªè¨­å®šå¤‰æ›´
rippler.set('perturbance', 0.1);
rippler.set('dropRadius', 40);
rippler.set('imageUrl', '/new-image.jpg');</code></pre>
				</div>

				<h2>ğŸ¯ ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®æ³¢ç´‹</h2>

				<div class="code-wrapper">
					<div class="code-header">
						<span>ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">// ã‚¯ãƒªãƒƒã‚¯ã§å¤§ããªæ³¢ç´‹
element.addEventListener('click', (e) => {
  const rect = element.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  // å¤§ããªæ³¢ç´‹ã‚’ä½œæˆ
  rippler.drop(x, y, 50, 0.1);
});

// è‡ªå‹•æ³¢ç´‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
let angle = 0;
setInterval(() => {
  const centerX = element.clientWidth / 2;
  const centerY = element.clientHeight / 2;
  const radius = 100;
  
  const x = centerX + Math.cos(angle) * radius;
  const y = centerY + Math.sin(angle) * radius;
  
  rippler.drop(x, y, 20, 0.04);
  angle += 0.1;
}, 100);</code></pre>
				</div>

				<h2>ğŸ¨ è¤‡æ•°è¦ç´ ã¸ã®é©ç”¨</h2>

				<div class="code-wrapper">
					<div class="code-header">
						<span>è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">// è¤‡æ•°ã®è¦ç´ ã«ç•°ãªã‚‹è¨­å®šã§é©ç”¨
const ripplers = [];

document.querySelectorAll('.ripple-element').forEach((el, index) => {
  const rippler = new Rippler(el, {
    dropRadius: 20 + index * 10,
    perturbance: 0.02 + index * 0.01,
    resolution: 256
  });
  
  ripplers.push(rippler);
});

// å…¨ã¦ã®æ³¢ç´‹ã‚’ä¸€æ™‚åœæ­¢
function pauseAll() {
  ripplers.forEach(r => r.pause());
}

// å…¨ã¦ã®æ³¢ç´‹ã‚’å†é–‹
function playAll() {
  ripplers.forEach(r => r.play());
}</code></pre>
				</div>
			</div>

			<!-- API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ -->
			<div id="api" class="tab-content">
				<h2>ğŸ“š API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</h2>

				<h3>ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿</h3>
				<div class="code-wrapper">
					<div class="code-header">
						<span>new Rippler(element, options)</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
// element: HTMLElement - ãƒªãƒƒãƒ—ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’é©ç”¨ã™ã‚‹è¦ç´ 
// options: Object - è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

const rippler = new Rippler(element, {
  imageUrl: null,        // string - èƒŒæ™¯ç”»åƒURL
  resolution: 256,       // number - ãƒ†ã‚¯ã‚¹ãƒãƒ£è§£åƒåº¦
  dropRadius: 20,        // number - æ³¢ç´‹ã®åŠå¾„
  perturbance: 0.03,     // number - æ³¢ã®å¼·ã•
  interactive: true,     // boolean - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
  crossOrigin: ''        // string - CORSè¨­å®š
});</code></pre>
				</div>

				<h3>ãƒ¡ã‚½ãƒƒãƒ‰</h3>

				<div class="feature-grid">
					<div class="feature-card">
						<h4>drop(x, y, radius, strength)</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// æŒ‡å®šä½ç½®ã«æ³¢ç´‹ã‚’ä½œæˆ
rippler.drop(
  100,   // xåº§æ¨™
  100,   // yåº§æ¨™
  30,    // åŠå¾„
  0.05   // å¼·åº¦
);</code></pre>
						</div>
					</div>

					<div class="feature-card">
						<h4>show() / hide()</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è¡¨ç¤º/éè¡¨ç¤º
rippler.hide();
setTimeout(() => {
  rippler.show();
}, 1000);</code></pre>
						</div>
					</div>

					<div class="feature-card">
						<h4>pause() / play()</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€æ™‚åœæ­¢/å†é–‹
rippler.pause();
document.addEventListener('click', () => {
  rippler.play();
});</code></pre>
						</div>
					</div>

					<div class="feature-card">
						<h4>set(property, value)</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹•çš„å¤‰æ›´
rippler.set('perturbance', 0.1);
rippler.set('dropRadius', 40);
rippler.set('imageUrl', 'new.jpg');</code></pre>
						</div>
					</div>

					<div class="feature-card">
						<h4>updateSize()</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºã®æ›´æ–°
window.addEventListener('resize', () => {
  rippler.updateSize();
});</code></pre>
						</div>
					</div>

					<div class="feature-card">
						<h4>destroy()</h4>
						<div class="code-wrapper">
							<pre>
<code class="language-javascript">// ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç ´æ£„
rippler.destroy();
// ãƒ¡ãƒ¢ãƒªã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—</code></pre>
						</div>
					</div>
				</div>
			</div>

			<!-- å®Ÿè£…ä¾‹ -->
			<div id="examples" class="tab-content">
				<h2>ğŸ’¡ å®Ÿè£…ä¾‹</h2>

				<h3>ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h3>
				<div class="code-wrapper">
					<div class="code-header">
						<span>ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ’ãƒ¼ãƒ­ãƒ¼</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-html">&lt;section class="hero" id="hero-section"&gt;
  &lt;div class="hero-content"&gt;
    &lt;h1&gt;Welcome to Our Site&lt;/h1&gt;
    &lt;p&gt;Experience the ripple effect&lt;/p&gt;
    &lt;button class="cta-button"&gt;Get Started&lt;/button&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;style&gt;
.hero {
  height: 100vh;
  background-image: url('hero-bg.jpg');
  background-size: cover;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hero-content {
  text-align: center;
  color: white;
  z-index: 1;
  position: relative;
}
&lt;/style&gt;

&lt;script type="module"&gt;
import { Rippler } from './rippler.js';

const hero = document.getElementById('hero-section');
const rippler = new Rippler(hero, {
  dropRadius: 30,
  perturbance: 0.02,
  resolution: 512
});

// CTAãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§æ³¢ç´‹
document.querySelector('.cta-button').addEventListener('click', (e) => {
  const rect = hero.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  // å¤§ããªæ³¢ç´‹ã‚’é€£ç¶šã§ä½œæˆ
  for (let i = 0; i < 3; i++) {
    setTimeout(() => {
      rippler.drop(x, y, 40 + i * 20, 0.08);
    }, i * 200);
  }
});
&lt;/script&gt;</code></pre>
				</div>

				<h3>ç”»åƒã‚®ãƒ£ãƒ©ãƒªãƒ¼</h3>
				<div class="code-wrapper">
					<div class="code-header">
						<span>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚®ãƒ£ãƒ©ãƒªãƒ¼</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">class RippleGallery {
  constructor(container) {
    this.container = container;
    this.items = container.querySelectorAll('.gallery-item');
    this.ripplers = new Map();
    
    this.init();
  }
  
  init() {
    this.items.forEach(item => {
      const rippler = new Rippler(item, {
        dropRadius: 25,
        perturbance: 0.04,
        interactive: false // æ‰‹å‹•åˆ¶å¾¡
      });
      
      this.ripplers.set(item, rippler);
      
      // ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
      item.addEventListener('mouseenter', (e) => {
        this.createRippleEffect(item, e);
      });
      
      // ã‚¯ãƒªãƒƒã‚¯ã§å…¨ç”»é¢è¡¨ç¤º
      item.addEventListener('click', () => {
        this.showFullscreen(item);
      });
    });
  }
  
  createRippleEffect(item, event) {
    const rippler = this.ripplers.get(item);
    const rect = item.getBoundingClientRect();
    
    // ä¸­å¿ƒã‹ã‚‰å¤–å´ã¸åºƒãŒã‚‹æ³¢ç´‹
    const centerX = rect.width / 2;
    const centerY = rect.height / 2;
    
    let radius = 0;
    const animate = () => {
      if (radius < Math.max(rect.width, rect.height)) {
        rippler.drop(centerX, centerY, radius, 0.02);
        radius += 10;
        requestAnimationFrame(animate);
      }
    };
    animate();
  }
  
  showFullscreen(item) {
    // ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³è¡¨ç¤ºã®ãƒ­ã‚¸ãƒƒã‚¯
    console.log('Showing fullscreen for', item);
  }
}

// åˆæœŸåŒ–
const gallery = new RippleGallery(document.querySelector('.gallery'));</code></pre>
				</div>

				<h3>èƒŒæ™¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
				<div class="code-wrapper">
					<div class="code-header">
						<span>è‡ªå‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯</span>
						<button class="copy-button" onclick="copyCode(this)">
							ã‚³ãƒ”ãƒ¼
						</button>
					</div>
					<pre>
<code class="language-javascript">class RippleBackground {
  constructor(element, options = {}) {
    this.element = element;
    this.rippler = new Rippler(element, {
      dropRadius: 40,
      perturbance: 0.01,
      interactive: true,
      ...options
    });
    
    this.patterns = {
      rain: this.rainPattern.bind(this),
      wave: this.wavePattern.bind(this),
      spiral: this.spiralPattern.bind(this),
      random: this.randomPattern.bind(this)
    };
    
    this.currentPattern = null;
    this.animationId = null;
  }
  
  startPattern(patternName = 'rain') {
    this.stopPattern();
    this.currentPattern = patternName;
    
    if (this.patterns[patternName]) {
      this.patterns[patternName]();
    }
  }
  
  stopPattern() {
    if (this.animationId) {
      cancelAnimationFrame(this.animationId);
      this.animationId = null;
    }
  }
  
  rainPattern() {
    const width = this.element.clientWidth;
    const height = this.element.clientHeight;
    
    const createDrop = () => {
      const x = Math.random() * width;
      const y = Math.random() * height;
      const size = 20 + Math.random() * 20;
      const strength = 0.02 + Math.random() * 0.03;
      
      this.rippler.drop(x, y, size, strength);
    };
    
    const animate = () => {
      if (Math.random() > 0.9) {
        createDrop();
      }
      this.animationId = requestAnimationFrame(animate);
    };
    animate();
  }
  
  wavePattern() {
    const width = this.element.clientWidth;
    const height = this.element.clientHeight;
    let offset = 0;
    
    const animate = () => {
      const y = height / 2 + Math.sin(offset) * height / 4;
      const x = (offset * 50) % (width + 100);
      
      this.rippler.drop(x, y, 30, 0.04);
      offset += 0.1;
      
      this.animationId = requestAnimationFrame(animate);
    };
    animate();
  }
  
  spiralPattern() {
    const centerX = this.element.clientWidth / 2;
    const centerY = this.element.clientHeight / 2;
    let angle = 0;
    let radius = 0;
    
    const animate = () => {
      const x = centerX + Math.cos(angle) * radius;
      const y = centerY + Math.sin(angle) * radius;
      
      this.rippler.drop(x, y, 25, 0.03);
      
      angle += 0.2;
      radius += 0.5;
      
      if (radius > Math.max(centerX, centerY)) {
        radius = 0;
      }
      
      this.animationId = requestAnimationFrame(animate);
    };
    animate();
  }
  
  randomPattern() {
    const width = this.element.clientWidth;
    const height = this.element.clientHeight;
    
    const animate = () => {
      if (Math.random() > 0.95) {
        const count = 1 + Math.floor(Math.random() * 3);
        
        for (let i = 0; i < count; i++) {
          setTimeout(() => {
            const x = Math.random() * width;
            const y = Math.random() * height;
            this.rippler.drop(x, y, 30, 0.05);
          }, i * 100);
        }
      }
      
      this.animationId = requestAnimationFrame(animate);
    };
    animate();
  }
}

// ä½¿ç”¨ä¾‹
const bg = new RippleBackground(document.querySelector('.animated-bg'));
bg.startPattern('spiral');

// ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆ
document.querySelectorAll('.pattern-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    bg.startPattern(btn.dataset.pattern);
  });
});</code></pre>
				</div>
			</div>

			<!-- ãƒ‡ãƒ¢ã‚¨ãƒªã‚¢ -->
			<div class="demo-area" id="demo">
				<h3>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢</h3>
				<p>ã“ã®ã‚¨ãƒªã‚¢ã«ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã—ã¦ã¿ã¦ãã ã•ã„</p>
			</div>
		</div>

		<!-- Prism.js -->
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"
		></script>

		<script>
			// ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
			function showTab(tabName) {
				// ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
				document.querySelectorAll(".tab-content")
					.forEach((content) => {
						content.classList.remove("active");
					});

				// ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
				document.querySelectorAll(".tab-button")
					.forEach((button) => {
						button.classList.remove("active");
					});

				// é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’è¡¨ç¤º
				document.getElementById(tabName).classList.add(
					"active",
				);

				// å¯¾å¿œã™ã‚‹ãƒœã‚¿ãƒ³ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
				event.target.classList.add("active");

				// Prismã‚’å†å®Ÿè¡Œã—ã¦æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
				Prism.highlightAll();
			}

			// ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
			function copyCode(button) {
				const codeBlock = button.parentElement
					.nextElementSibling.querySelector("code");
				const text = codeBlock.textContent;

				navigator.clipboard.writeText(text).then(() => {
					button.textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";
					button.classList.add("copied");

					setTimeout(() => {
						button.textContent = "ã‚³ãƒ”ãƒ¼";
						button.classList.remove("copied");
					}, 2000);
				});
			}

			// åˆæœŸåŒ–æ™‚ã«Prismã‚’å®Ÿè¡Œ
			document.addEventListener(
				"DOMContentLoaded",
				() => {
					Prism.highlightAll();
				},
			);

			// ãƒ‡ãƒ¢ç”¨ã®ç°¡æ˜“å®Ÿè£…
			const demoArea = document.getElementById("demo");
			let demoInitialized = false;

			demoArea.addEventListener("mouseenter", () => {
				if (!demoInitialized) {
					demoArea.innerHTML = `
                    <h3>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢</h3>
                    <p>WebGLãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¡¨ç¤º</p>
                    <div style="width: 100px; height: 100px; background: radial-gradient(circle, rgba(33,150,243,0.3) 0%, transparent 70%); 
                                margin: 20px auto; animation: pulse 2s infinite;">
                    </div>
                `;
					demoInitialized = true;
				}
			});

			// ãƒ‘ãƒ«ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨CSS
			const style = document.createElement("style");
			style.textContent = `
            @keyframes pulse {
                0% { transform: scale(0.8); opacity: 0.5; }
                50% { transform: scale(1.2); opacity: 0.8; }
                100% { transform: scale(0.8); opacity: 0.5; }
            }
        `;
			document.head.appendChild(style);
		</script>
	</body>
</html>
